{%- comment -%}
{
  "pack_name": "Product list - lifestyle",
  "pack_author": "Design Packs",
  "license": "Â© Design Packs. All rights reserved. This code is protected by copyright law and may not be reproduced, distributed, or used without explicit permission from the author. Shopify complies with the Digital Millennium Copyright Act (DMCA) and responds to claims of copyright infringement using DMCA procedures, which could result in the termination of your Shopify account."
}
{%- endcomment -%}

{% comment %} Security Code - hides section when app uninstalled {% endcomment %}
{%- unless content_for_header contains 'design_packs_file.js' -%}
  {%- if request.design_mode -%}
    <div class="dsgn-pck__no-app-warning">
      <div class="dsgn-pck__no-app-warning-background">
      </div>
      <div class="dsgn-pck__no-app-warning-text dsgn-pck__rte">
        <p><strong>WARNING!</strong> This premium section will not display properly without an active subscription for <a href="https://apps.shopify.com/design-packs" target="_blank" rel="nofollow">Design Packs</a>. If you need any support please email <a href="mailto:info@design-packs.com" target="_blank">info@design-packs.com</a> with your questions.</p>
      </div>
    </div>
  {%- endif -%}
  {%- break -%}
{%- endunless -%}

{%- comment -%} Assign: Preview section js fix {%- endcomment -%}
{%- assign section_id = section.id | replace: '+', '' -%}

{%- comment -%} Color: check if color is set to transparent {%- endcomment -%}
{%- assign product_background_alpha = section.settings.product_background_color | color_extract: 'alpha' -%}

{% comment %} Content: check whether to automatically pull content {% endcomment %}
{%- assign collection = section.settings.collection | default: collection | default: collections["all"] -%}

{%- comment -%} Images: check image crop aspect ratio {%- endcomment -%}
{%- assign image_crop_width = section.settings.image_crop | split: ':' | first | times: 1000 -%}
{%- assign image_crop_height = section.settings.image_crop | split: ':' | last | times: 1000 -%}

{% comment %} Images: responsive image widths {% endcomment %}
{%- assign widths = '180, 360, 540, 720, 900, 1080, 1296, 1512, 1728, 1950, 2100, 2260, 2450, 2700, 3000, 3350, 3750, 4100' -%}

{%- comment -%} Layout: has user entered measurement value into max-width field? {%- endcomment -%}
{%- if section.settings.max_width contains 'px' or section.settings.max_width contains '%' -%}
  {%- assign max_width = section.settings.max_width -%}
{%- else -%}
  {%- assign max_width = section.settings.max_width | append: 'px' -%}
{%- endif -%}

{% comment %} Metafields: hide section if there is no content {% endcomment %}
{%- if section.settings.product_list == blank and section.settings.enable_metafield_detect == true -%}
  <style>
    #DP--{{ section_id }} {
      display: none;
    }
  </style>
  {%- break -%}
{%- endif -%}

{%- comment -%} Text: custom font_picker values {%- endcomment -%}
{%- capture font_settings_list -%}
{{ section.settings.main_font | font_face: font_display: 'block' }}~
{{ section.settings.main_font | font_modify: 'weight', 'bolder' | font_face: font_display: 'block' }}~
{{ section.settings.main_font | font_modify: 'style', 'italic' | font_face: font_display: 'block' }}~
{{ section.settings.main_font | font_modify: 'style', 'italic' | font_modify: 'weight', 'bolder' | font_face: font_display: 'block' }}~
{{ section.settings.heading_font | font_face: font_display: 'swap' }}~
{{ section.settings.heading_font | font_modify: 'weight', 'normal' | font_face: font_display: 'swap' }}~
{{ section.settings.heading_font | font_modify: 'style', 'italic' | font_face: font_display: 'swap' }}~
{{ section.settings.heading_font | font_modify: 'style', 'italic' | font_modify: 'weight', 'bolder' | font_face: font_display: 'swap' }}
{%- endcapture -%}
{%- assign font_array = font_settings_list | split: '~' -%}

{%- comment -%} CSS {%- endcomment -%}
<style>
{%- if section.settings.override_theme_font != blank -%}
  {%- for font in font_array -%}
    {%- unless font contains 'error' -%}{{ font }}{%- endunless -%}
  {%- endfor -%}
  #DP--{{ section_id }} {
    --main-font: {{ section.settings.main_font.family }}, {{ section.settings.main_font.fallback_families }};
    --main-font-weight: {{ section.settings.main_font.weight }};
    --main-font-style: {{ section.settings.main_font.style }};
    --heading-font: {{ section.settings.heading_font.family }}, {{ section.settings.heading_font.fallback_families }};
    --heading-font-weight: {{ section.settings.heading_font.weight }};
    --heading-font-style: {{ section.settings.heading_font.style }};

  }
{%- endif -%}

#DP--{{ section_id }} {
  pointer-events: all;
  color: {{ section.settings.text_color }};
  background: {{ section.settings.background_color }};
  margin-top: {{ section.settings.outer_margin }}px;
  margin-bottom: {{ section.settings.outer_margin }}px;
}

#DP--{{ section_id }} .dsgn-pck__sizer {
  padding-top: {{ section.settings.inner_padding }}px;
  padding-bottom: {{ section.settings.inner_padding }}px;
  width: {{ section.settings.base_width }}%;
  max-width: {{ max_width }};
}

#DP--{{ section_id }} .dsgn-pck__collection-grid {
  display: grid;
  grid-template-columns: repeat({{ section.settings.per_row }},minmax(0,1fr));
  grid-auto-rows: 1fr;
  gap: {{ section.settings.gap }}px;
  padding: 0;
  margin: 0;
  list-style: none;
}

#DP--{{ section_id }} .dsgn-pck__product {
  list-style: none;
}

#DP--{{ section_id }} .dsgn-pck__product-card {
  display: flex;
  width: 100%;
  height: 100%;
  color: {{ section.settings.text_color }};
  position: relative;
  flex-direction: column;
  border: {{ section.settings.border_width }}px solid {{ section.settings.border_color }};
  border-radius: {{ section.settings.border_radius }}px;
  overflow: hidden;
}

#DP--{{ section_id }} .dsgn-pck__product-tag {
  position: absolute;
  top: 0;
  right: 0;
  z-index: 1;
  background-color: #333;
  font-size: calc(var(--dp-g-body-size, var(--dp-body-size, 18px)) * {{ section.settings.text_size | times: 0.007 }});
  font-weight: 700;
  color: #fff;
  padding: .375rem .75rem;
  text-transform: uppercase;
  {%- if section.settings.override_theme_font != blank -%}
  font-family: var(--main-font);
  font-weight: var(--main-font-weight);
  font-style: var(--main-font-style);
  {%- endif -%}
}

#DP--{{ section_id }} .dsgn-pck__product-card__image {
  position: relative;
  display: block;
  margin-bottom: 0;
  z-index: 0;
  width: 100%;
  flex: 1;
}

#DP--{{ section_id }} .dsgn-pck__product-card__image.dsgn-pack__secondary-image--true:hover .dsgn-pck__product-image__second {
  opacity: 1;
}

#DP--{{ section_id }} .dsgn-pck__product-image__first {
  position: relative;
}

#DP--{{ section_id }} .dsgn-pck__product-image__second {
  opacity: 0;
  z-index: 1;
  position: absolute;
  transition: opacity .2s ease-in-out;
  top: 0;
  left: 0;
  height: 100%;
  width: 100%;
}

#DP--{{ section_id }} .dsgn-pck__product-card__info {
  display: inline-block;
  width: 100%;
  flex: 1;
  {%- if product_background_alpha != 0 -%}
    background: {{ section.settings.product_background_color | color_modify: 'alpha', 0.95 }};
    padding: 0.2em 0.5em;
  {%- endif -%}
  {%- if section.settings.show_product_info_hover -%}
    position: absolute;
    bottom: 0;
    width: 100%;
    padding: 0.5em;
    opacity: 0;
    transition: opacity .2s ease;
    z-index: -1;
  {%- else -%}
    position: relative;
    z-index: 1;
  {%- endif -%}
  {%- if section.settings.override_theme_font != blank -%}
  font-family: var(--main-font);
  font-weight: var(--main-font-weight);
  font-style: var(--main-font-style);
  {%- endif -%}
}

#DP--{{ section_id }} .dsgn-pck__product-card__info a {
  cursor: pointer;
  color: {{ section.settings.text_color }};
}

#DP--{{ section_id }} .dsgn-pck__product-card__info p {
  color: {{ section.settings.text_color }};
  margin: 0;
  padding: 5px;
  font-size: calc(var(--dp-g-body-size, var(--dp-body-size, 18px)) * {{ section.settings.text_size | times: 0.007 }});
}

#DP--{{ section_id }} .dsgn-pck__product-card__info:hover .dsgn-pck__product-card__variant-info  {
  opacity: 1;
}
#DP--{{ section_id }} .dsgn-pck__product-card:hover .dsgn-pck__product-card__info  {
  opacity: 1;
  z-index: 1;
}

#DP--{{ section_id }} .dsgn-pck__product .dsgn-pck__product-money_was-price {
  text-decoration: line-through;
  color: {{ section.settings.text_color | color_modify: 'alpha', 0.7 }};
}

#DP--{{ section_id }} .dsgn-pck__video {
  position: relative;
  height: 100%;
}

#DP--{{ section_id  }} .dsgn-pck__video .dsgn-pck__image__wrapper {
  height: 100%;
}

#DP--{{ section_id }} .dsgn-pck__video video {
  object-fit: cover;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 100%;
  position: absolute;
  -webkit-mask-image: -webkit-radial-gradient(white, black);
  -webkit-backface-visibility: hidden;
  -moz-backface-visibility: hidden;
}

#DP--{{ section_id }} .dsgn-pck__video video:not(:root):fullscreen {
  object-fit: contain;
}

{%- if section.settings.show_controls == false -%}
  #DP--{{ section_id }} .dsgn-pck__video video::-webkit-media-controls-panel {
    background-image: none !important;
    filter: brightness(0.4);
  }
{%- endif -%}

#DP--{{ section_id }} .dsgn-pck__video iframe {
  object-fit: cover;
  width: 100%;
  aspect-ratio: {{ image_crop_width }} / {{ image_crop_height }};
}

#DP--{{ section_id }} .dsgn-pck__editorial-image {
  width: 100%;
  height: 100%;
}

#DP--{{ section_id }} .dsgn-pck__editorial-image img {
  object-fit: cover;
  width: 100%;
  height: 100%;
  position: absolute;
  z-index: -1;
}

#DP--{{ section_id }} .dsgn-pck__editorial {
  grid-column-start: var(--desktop-col-start);
  grid-column-end: var(--desktop-col-width);
  grid-row-start: var(--desktop-row-start);
  grid-row-end: var(--desktop-row-height);
  position: relative;
  height: 100%;
  overflow: hidden;
  border-radius: {{ section.settings.border_radius }}px;
}

#DP--{{ section_id }} .dsgn-pck__editorial-content {
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  padding: 20px;
  height: 100%;
  position: absolute;
}

#DP--{{ section_id }} .dsgn-pck__editorial-inner-content {
  max-width: 450px;
}

#DP--{{ section_id }} .dsgn-pck__small-heading {
  line-height: var(--dp-g-small-heading-line-height, var(--dp-small-heading-line-height, calc(3px + 2ex + 3px)));
  font-size: calc(var(--dp-g-small-heading-size, var(--dp-small-heading-size, 24px)) * {{ section.settings.text_size | times: 0.01 }});
  {%- if section.settings.override_theme_font != blank -%}
  font-family: var(--heading-font);
  font-weight: var(--heading-font-weight);
  font-style: var(--heading-font-style);
  {%- endif -%}
}

#DP--{{ section_id }} .dsgn-pck__small-heading + .dsgn-pck__text {
  margin-top: calc(10px * {{ section.settings.text_size | times: 0.01 }});
}

#DP--{{ section_id }} .dsgn-pck__text {
  line-height: var(--dp-g-body-line-height, var(--dp-body-line-height, calc(3px + 2.5ex + 3px)));
  font-size: calc(var(--dp-g-body-size, var(--dp-body-size, 18px)) * {{ section.settings.text_size | times: 0.008 }});
  {%- if section.settings.override_theme_font != blank -%}
  font-family: var(--main-font);
  font-weight: var(--main-font-weight);
  font-style: var(--main-font-style);
  {%- endif -%}
}

#DP--{{ section_id }} .dsgn-pck__link {
  text-decoration: none;
  position: relative;
  padding-top: 20px;
  display: inline-block;
  color: {{ section.settings.link_color }};
  font-size: calc(var(--dp-g-body-size, var(--dp-body-size, 18px)) * {{ section.settings.text_size | times: 0.007 }});
}

#DP--{{ section_id }} .dsgn-pck__link::after {
  content: '';
  position: absolute;
  width: 0;
  height: 1px;
  bottom: -6px;
  left: 0;
  background-color: {{ section.settings.link_color }};
  transition: 0.5s;
}

#DP--{{ section_id }} .dsgn-pck__link:hover:after {
  width: 100%;
}

/* Animation */
{%- if section.settings.animation != 'none' -%}
  #DP--{{ section_id }} .dsgn-pck__grid.dsgn-pck__animation-applied [style*="--dsgn-pck-animate"] {
    animation-name: dsgn-pck__animation--{{ section.settings.animation }};
  }
{%- else -%}
  #DP--{{ section_id }} [style*="--dsgn-pck-animate"] {
    opacity: 1;
  }
{% endif %}

{%- if section.settings.custom_css != blank -%}
  {%- assign custom_section_declarations = section.settings.custom_css | split: '}' -%}
  {%- for declaration in custom_section_declarations -%}
    {%- if declaration contains '{' -%}
      #DP--{{ section_id }} {{ declaration }} }
    {%- endif -%}
  {%- endfor -%}
{%- endif -%}

/* Landscape phone to portrait tablet */
@media (max-width: 767px) {

  #DP--{{ section_id }} {
    margin-top: {{ section.settings.outer_margin | times: 0.75 | round: 0 }}px;
    margin-bottom: {{ section.settings.outer_margin | times: 0.75 | round: 0 }}px;
  }

  #DP--{{ section_id }} .dsgn-pck__sizer {
    min-width: 70%;
    padding-top: {{ section.settings.inner_padding | times: 0.75 | round: 0 }}px;
    padding-bottom: {{ section.settings.inner_padding | times: 0.75 | round: 0 }}px;
  }

  #DP--{{ section_id }} .dsgn-pck__collection-grid {
    grid-template-columns: repeat({{ section.settings.mobile_per_row }}, minmax(0, 1fr));
    gap: {{ section.settings.mobile_gap }}px;
    {% comment %} grid-auto-rows: min-content; {% endcomment %}
  }

  #DP--{{ section_id }} .dsgn-pck__editorial {
    width: 100%;
    position: relative;
    grid-column-end: var(--mobile-col-width);
    grid-column-start: var(--mobile-col-start);
    grid-row-start: var(--mobile-row);
    grid-row-end: var(--mobile-row-height);
  }

  #DP--{{ section_id }} .dsgn-pck__editorial-content {
    position: static;
  }

  {%- if section.settings.mobile_custom_css != blank -%}
    {%- assign mobile_custom_declarations = section.settings.mobile_custom_css | split: '}' -%}
    {%- for declaration in mobile_custom_declarations -%}
      {%- if declaration contains '{' -%}
        #DP--{{ section_id }} {{ declaration }} }
      {%- endif -%}
    {%- endfor -%}
  {%- endif -%}

  #DP--{{ section_id }} .dsgn-pck__product-card__info p {
    margin-top: 2px;
    margin-bottom: 2px;
    font-size: clamp(12px, {{ section.settings.text_size | times: 0.006 }}em, 36px);
  }
}
</style>

{%- if section.settings.product_list == blank -%}
  <div class="dsgn-pck__justify-center">
    <p>Please select products to display content.</p>
  </div>
  {%- break -%}
{%- endif -%}

{%- comment -%} HTML {%- endcomment -%}
<section id="DP--{{ section_id }}" class="DP--{{ section_id }} dsgn-pck__collection-lifestyle dsgn-pck__section">
  {%- if section.settings.anchor_id != blank -%}
    <div id="{{ section.settings.anchor_id | remove: '#' | handleize }}" class="dsgn-pck__anchor-id" style="height: 0; overflow: hidden;"></div>
  {%- endif -%}
  <div class="dsgn-pck__sizer">

    <ul class="dsgn-pck__collection-grid">
      {% for product in section.settings.product_list %}
        {%- comment -%} Crop based on initial image width and height{%- endcomment -%}
        {%- if section.settings.image_crop == 'none' -%}
          {%- assign image_crop_width = product.featured_image.width | default: '1000' -%}
          {%- assign image_crop_height = product.featured_image.height | default: '1200' -%}
        {%- endif -%}

        <li class="dsgn-pck__product">
          <div class="dsgn-pck__product-card">
            {%- if section.settings.show_product_label -%}
              {%- if product.available != true -%}
                <div class="dsgn-pck__product-tag dsgn-pck__product-tag--sold-out">
                {{ 'sold_out' | t }}
                </div>
              {%- endif -%}
              {% comment %} Check if product is on sale {% endcomment %}
              {% if product.available and product.compare_at_price_max > product.price %}
                <div class="dsgn-pck__product-tag dsgn-pck__product-tag--sale">
                {{ 'sale' | t }}
                </div>
              {% endif %}
            {%- endif -%}
            <a class="dsgn-pck__product-card__image {% if product.images[1] != blank %}dsgn-pack__secondary-image--true{% endif %}" href="{{ product.url }}">
              {%- if product.featured_image != blank -%}
                <div class="dsgn-pck__product-image__first">
                  <div class="dsgn-pck__image__wrapper">
                    <svg class="dsgn-pck__svg-sizer" viewBox="0 0 {{ image_crop_width }} {{ image_crop_height }}"></svg>
                    {%- if product.featured_image != blank -%}
                      {{ product.featured_image | image_url: width: 1600 | image_tag:  widths: widths, sizes: '(max-width: 480px) 100vw, 33vw' }}
                    {%- endif -%}
                  </div>
                </div>
              {%- endif -%}
              {%- if product.images[1] != blank  and section.settings.show_secondary_image -%}
                <div class="dsgn-pck__product-image__second">
                  <div class="dsgn-pck__image__wrapper">
                    <svg class="dsgn-pck__svg-sizer" viewBox="0 0 {{ image_crop_width }} {{ image_crop_height }}"></svg>
                    {{ product.images[1] | image_url: width: 2800 | image_tag:  widths: widths, sizes: '(max-width: 480px) 100vw, 33vw' }}
                  </div>
                </div>
              {%- endif -%}
            </a>
            <div class="dsgn-pck__product-card__info {% if product.compare_at_price_max > product.price %}dsgn-pck__product-card--sale{%- endif -%}">
              <a class="dsgn-pck__absolute-link" href="{{ product.url }}"></a>
              {%- if section.settings.show_product_title -%}
                <p class="dsgn-pck__product-title">{{ product.title }}</p>
              {%- endif -%}
              {%- if section.settings.show_product_price -%}
                {%- liquid

                  assign price = product.price | default: 1999
                  assign money_price = price | money
                  if settings.currency_code_enabled
                    assign money_price = price | money_with_currency
                  endif

                  if product.price_varies
                    assign money_price = 'from_price_html' | t: price: money_price
                  endif
                -%}
                <p class="dsgn-pck__product-money">
                  {{ money_price }}
                {% if product.compare_at_price_max > product.price and product.price_varies == false %}
                  <span class="dsgn-pck__product-money_was-price">
                    <span class="money">
                      {% if settings.currency_code_enabled %}
                          {{ product.compare_at_price_max | money_with_currency }}
                        {% else %}
                          {{ product.compare_at_price_max | money }}
                        {% endif %}
                    </span>
                  </span>
                {% endif %}
              </p>
              {%- endif -%}
              {%- unless product.has_only_default_variant -%}
                {%- if section.settings.show_product_variants or section.settings.show_product_options or section.settings.show_product_variant_images -%}
                  <div class="dsgn-pck__product-card__variant-info">
                    {%- if section.settings.show_product_variants -%}
                      <p class="dsgn-pck__product-card__variants">
                        {%- for variant in product.variants -%}
                          <span><a href="{{ variant.url }}">{{ variant.title }}</a>{%- unless forloop.last -%}, {% endunless %}</span>
                        {%- endfor -%}
                      </p>
                    {%- endif -%}
                    {%- if section.settings.show_product_variant_images -%}
                      <div class="dsgn-pck__variant-swatch--wrapper">
                        {%- for variant in product.variants -%}
                          {%- if variant.image != blank -%}
                            <a href="{{ variant.url }}" class="dsgn-pck__variant-swatch--image">
                              {{ variant.image | image_url: width: 500 | image_tag:  widths: widths, sizes: '(max-width: 480px) 100vw, 50vw' }}
                              <div class="dsgn-pck__variant-tool-tip">
                                {{ variant.title }}
                              </div>
                            </a>
                          {%- else -%}
                            <a href="{{ variant.url }}">
                              <span class="dsgn-pck__variant-swatch--no-image"></span>
                              <div class="dsgn-pck__variant-tool-tip">
                                {{ variant.title }}
                              </div>
                            </a>
                          {%- endif -%}
                        {%- endfor -%}
                      </div>

                    {%- endif -%}
                    {%- if section.settings.show_product_options -%}
                      {%- for option in product.options_with_values -%}
                        <p class="dsgn-pck__product-card__options">
                          <strong>{{ option.name }}</strong>:
                          {% for value in option.values -%}
                            <span>{{ value }}{%- unless forloop.last -%}, {% endunless %}</span>
                          {%- endfor -%}
                        </p>
                      {%- endfor -%}
                    {%- endif -%}
                  </div>
                {%- endif -%}
              {%- endunless -%}
            </div>
          </div>
        </li>
      {% endfor %}

      {% for block in section.blocks %}
        {% comment %} Color: check for gradient picker {% endcomment %}
        {%- capture text_background_color -%}
          {%- if block.settings.text_background_color contains 'gradient' -%}
            {{ block.settings.text_background_color }}
          {%- else -%}
            {% unless block.settings.text_background_color contains 'rgba' %}
              {{ block.settings.text_background_color | color_modify: 'alpha', 0.4 }}
            {% endunless %}
          {%- endif -%}
        {%- endcapture -%}

        {%- comment -%} Text: check text position {%- endcomment -%}
        {%- assign horizontal_text_position = block.settings.text_position | split: ' ' | first -%}
        {%- assign vertical_text_position = block.settings.text_position | split: ' ' | last -%}

        <style>
          {%- assign button_alpha = block.settings.button_background_color | color_extract: 'alpha' -%}

          .dsgn-pck__block-id-{{ block.id }} {
            --desktop-row-start: {{ block.settings.row_start }};
            --desktop-row-height: span {{ block.settings.row_height }};
            --desktop-col-start: {{ block.settings.col_start }};
            --desktop-col-width: span {{ block.settings.col_width }};
            --mobile-row: {{ block.settings.mobile_row_start }};
            --mobile-col-start: {% if section.settings.mobile_per_row == "1" %}1{% else %}{{ block.settings.mobile_col_start }}{%- endif -%};
            --mobile-col-width: span {% if block.settings.mobile_col_start == "2" or section.settings.mobile_per_row == "1" -%}1{%- else -%}{{ block.settings.mobile_col_width }}{%- endif -%};
          }

          .dsgn-pck__block-id-{{ block.id }} .dsgn-pck__editorial-content {
            background: {{ text_background_color }};
          }

          .dsgn-pck__block-id-{{ block.id }} .dsgn-pck__small-heading {
            color: {{ block.settings.text_color }};
          }

          .dsgn-pck__block-id-{{ block.id }} .dsgn-pck__text {
            color: {{ block.settings.text_color }};
          }

          .dsgn-pck__block-id-{{ block.id }} .dsgn-pck__button {
            margin-top: 1.2em;
            display: inline-block;
            width: auto;
            text-decoration: none;
            padding: var(--dp-button-padding, 0.5em 0.8em);
            border: thin solid;
            transition: all 0.3s ease-in-out;
            border-radius: {{ block.settings.button_radius }}px;
            border-color: {%- if button_alpha != 0 -%}{{ block.settings.button_background_color }}{%- else -%}{{ block.settings.button_label_color }}{%- endif -%};
            font-size: calc(var(--dp-g-body-size, var(--dp-body-size, 18px)) * {{ section.settings.text_size | times: 0.01 }});
            color: {{ block.settings.button_label_color }};
            background-color: {{ block.settings.button_background_color }};
            {%- if section.settings.override_theme_font != blank -%}
            font-family: var(--main-font);
            font-weight: var(--main-font-weight);
            font-style: var(--main-font-style);
            {%- endif -%}
          }

          .dsgn-pck__block-id-{{ block.id }} .dsgn-pck__button:hover {
            opacity: 1;
            {%- if button_alpha != 0 -%}
            background-color: {{ block.settings.button_background_color | color_darken: 10 }};
            border-color: transparent;
            {%- else -%}
            background-color: {{ block.settings.button_label_color | color_modify: 'alpha', 0.1 }}
            {%- endif -%};
          }

        </style>

        <li id="DP--{{ block.id }}" {{ block.shopify_attributes }}class="dsgn-pck__block-id-{{ block.id }} dsgn-pck__editorial">
          {%- if block.settings.link != blank and block.settings.button_label == blank -%}
            <a href="{{ block.settings.link }}">
          {%- endif -%}
          {%- if block.settings.image != blank -%}
            <picture class="dsgn-pck__editorial-image">
              {%- if block.settings.mobile_image != blank -%}
                <source media="(max-width: 767px)" srcset="{{ block.settings.mobile_image | image_url: width: 960 }}">
              {%- endif -%}
                {{ block.settings.image | image_url: width: 2000 | image_tag:  widths: widths, sizes: '(max-width: 767px) 100vw, 50vw' }}
            </picture>
          {%- endif -%}
          {% comment %} VIDEO {% endcomment %}
          {%- if block.settings.video !=blank -%}
            <div class="dsgn-pck__video">
              <div class="dsgn-pck__image__wrapper">
                {% comment %} <svg class="dsgn-pck__svg-sizer" viewBox="0 0 {{ image_crop_width }} {{ image_crop_height }}"></svg> {% endcomment %}
                {%- assign video = block.settings.video -%}
                <video width="{{ video.aspect_ratio | times: 100 }}" height="100"
                  playsinline
                  {% if block.settings.autoplay %}autoplay muted{% endif %}
                  {% if block.settings.loop %}loop{% endif %}
                  loading="lazy" poster="{{ video.preview_image | image_url: width: 2800 }}">
                  {%- for source in video.sources -%}
                    {%- if source.format == 'mp4' or source.format == 'mov' -%}<source src="{{ source.url }}">{%- endif -%}
                  {%- endfor -%}
                </video>
              </div>
            </div>
          {%- endif -%}
            <div class="dsgn-pck__editorial-content dsgn-pck__flex dsgn-pck__justify-{{ horizontal_text_position }} dsgn-pck__align-{{ vertical_text_position }}">
                <div class="dsgn-pck__editorial-inner-content dsgn-pck__relative">
                  {%- if block.settings.title != blank -%}
                    <h3 class="dsgn-pck__small-heading">{{ block.settings.title }}</h3>
                  {%- endif -%}
                  {%- if block.settings.text != blank -%}
                    <div class="dsgn-pck__text dsgn-pck__rte">{{ block.settings.text }}</div>
                  {%- endif -%}
                  {%- if block.settings.button_label != blank -%}
                    <a class="dsgn-pck__button" {%- if block.settings.link != blank -%}href="{{ block.settings.link }}"{%- endif -%}>{{ block.settings.button_label }}</a>
                  {%- endif -%}
                </div>
              </div>
          {%- if block.settings.link != blank and block.settings.button_label == blank -%}
            </a>
          {%- endif -%}
        </li>
      {% endfor %}
    </ul>

  </div>

</section>

{% schema %}
{
  "name": "Product list - lifestyle",
  "class": "DP__product-list-lifestyle",
  "settings": [
    {
      "type": "product_list",
      "id": "product_list",
      "label": "Products"
    },
    {
      "type": "header",
      "content": "Product grid"
    },
    {
      "type": "range",
      "id": "per_row",
      "min": 2,
      "max": 5,
      "label": "Grid columns",
      "default": 4
    },
    {
      "type": "range",
      "id": "gap",
      "min": 0,
      "max": 40,
      "label": "Spacing gap",
      "unit": "px",
      "default": 20
    },
    {
      "type": "select",
      "id": "image_crop",
      "label": "Image aspect ratio",
      "default": "1:1",
      "options": [
        {
          "value": "4:3",
          "label": "Landscape (4:3)"
        },
        {
          "value": "2:3",
          "label": "Portrait (2:3)"
        },
        {
          "value": "1:1",
          "label": "Square (1:1)"
        },
        {
          "value": "none",
          "label": "Original"
        }
      ]
    },
    {
      "type": "checkbox",
      "id": "show_secondary_image",
      "label": "Show second image on hover",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_product_title",
      "label": "Show title",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_product_price",
      "label": "Show price",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_product_info_hover",
      "label": "Show product info on hover",
      "default": false
    },
    {
      "type": "checkbox",
      "id": "show_product_label",
      "label": "Show sold out sticker",
      "info": "Sold out will only appear if no product availability",
      "default": true
    },
    {
      "type": "header",
      "content": "ð± Mobile"
    },
    {
      "type": "select",
      "id": "mobile_per_row",
      "label": "Mobile grid columns",
      "default": "2",
      "options": [
        {
          "value": "1",
          "label": "1"
        },
        {
          "value": "2",
          "label": "2"
        }
      ]
    },
    {
      "type": "range",
      "id": "mobile_gap",
      "min": 0,
      "max": 40,
      "label": "Mobile spacing gap",
      "unit": "px",
      "default": 20
    },
    {
      "type": "header",
      "content": "âï¸ Text appearance"
    },
    {
      "type": "range",
      "id": "text_size",
      "label": "Text size",
      "min": 80,
      "max": 150,
      "step": 5,
      "default": 100,
      "unit": "%"
    },
    {
      "type": "header",
      "content": "ð¨ Design"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Product card text",
      "default": "#3A3A3A"
    },
    {
      "type": "color",
      "id": "product_background_color",
      "label": "Product card background",
      "default": "#F3F3F3"
    },
    {
      "type": "color",
      "id": "border_color",
      "label": "Border",
      "default": "#121212"
    },
    {
      "type": "range",
      "id": "border_radius",
      "label": "Border radius",
      "min": 0,
      "max": 50,
      "default": 0,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "border_width",
      "label": "Border width",
      "min": 0,
      "max": 8,
      "step": 1,
      "default": 0,
      "unit": "px"
    },
    {
      "type": "color_background",
      "id": "background_color",
      "label": "Background"
    },
    {
      "type": "header",
      "content": "ð¼ Layout"
    },
    {
      "type": "range",
      "id": "base_width",
      "label": "Size",
      "min": 60,
      "max": 100,
      "step": 5,
      "default": 95,
      "unit": "%"
    },
    {
      "type": "text",
      "id": "max_width",
      "label": "Maximum width",
      "placeholder": "eg. 1200px",
      "info": "Sets width constraint for content.",
      "default": "1000"
    },
    {
      "type": "range",
      "id": "inner_padding",
      "label": "Inner padding",
      "info": "Only applies to top and bottom.",
      "min": 0,
      "max": 100,
      "default": 40,
      "step": 5,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "outer_margin",
      "label": "Outer margin",
      "info": "Only applies to top and bottom.",
      "min": 0,
      "max": 100,
      "default": 40,
      "step": 5,
      "unit": "px"
    },
    {
      "type": "header",
      "content": "ð¨ Advanced"
    },
    {
      "type": "liquid",
      "id": "custom_css",
      "label": "CSS"
    },
    {
      "type": "liquid",
      "id": "mobile_custom_css",
      "label": "Mobile CSS",
      "info": "Applied on screens less than 480px."
    },
    {
      "type": "text",
      "id": "anchor_id",
      "label": "Link anchor id",
      "placeholder": "#design-pack-section",
      "info": "Enter a unique value to jump to this section from same page using a link or button. Eg. #design-pack-section"
    },
    {
      "type": "checkbox",
      "id": "override_theme_font",
      "label": "Override default theme font",
      "default": false
    },
    {
      "type": "font_picker",
      "id": "heading_font",
      "label": "Headings",
      "default": "serif"
    },
    {
      "type": "font_picker",
      "id": "main_font",
      "label": "Text",
      "default": "sans-serif"
    },
    {
      "type": "checkbox",
      "id": "enable_metafield_detect",
      "label": "Enable metafield detection",
      "default": false,
      "info": "Hide section if no products detected."
    }
  ],
  "blocks": [
    {
      "type": "image",
      "name": "Image or video",
      "limit": 3,
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image"
        },
        {
          "type": "image_picker",
          "id": "mobile_image",
          "label": "Mobile image"
        },
        {
          "type": "video",
          "id": "video",
          "label": "Video"
        },
        {
          "type": "checkbox",
          "id": "autoplay",
          "label": "Autoplay",
          "info": "Video will be muted.",
          "default": true
        },
        {
          "type": "checkbox",
          "id": "loop",
          "label": "Loop video",
          "default": true
        },
        {
          "type": "header",
          "content": "Content"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Heading",
          "default": "Check out these products."
        },
        {
          "type": "richtext",
          "id": "text",
          "label": "Text",
          "default": "<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris nibh enim, ornare at consequat sed, placerat quis libero. Curabitur id nulla ut nunc aliquam sodales.</p>"
        },
        {
          "type": "text",
          "id": "button_label",
          "label": "Button"
        },
        {
          "type": "url",
          "id": "link",
          "label": "Link"
        },
        {
          "type": "select",
          "id": "text_position",
          "label": "Text position",
          "default": "center center",
          "options": [
            {
              "value": "left top",
              "label": "Top left"
            },
            {
              "value": "center top",
              "label": "Top center"
            },
            {
              "value": "right top",
              "label": "Top right"
            },
            {
              "value": "left center",
              "label": "Left"
            },
            {
              "value": "center center",
              "label": "Center"
            },
            {
              "value": "right center",
              "label": "Right"
            },
            {
              "value": "left bottom",
              "label": "Bottom left"
            },
            {
              "value": "center bottom",
              "label": "Bottom center"
            },
            {
              "value": "right bottom",
              "label": "Bottom right"
            }
          ]
        },
        {
          "type": "color",
          "id": "text_color",
          "label": "Text",
          "default": "#FFFFFF"
        },
        {
          "type": "color",
          "id": "button_label_color",
          "label": "Button label",
          "default": "#FFFFFF"
        },
        {
          "type": "color",
          "id": "button_background_color",
          "label": "Button background",
          "default": "#121212"
        },
        {
          "type": "range",
          "id": "button_radius",
          "label": "Button border radius",
          "min": 0,
          "max": 50,
          "default": 0,
          "unit": "px"
        },
        {
          "type": "color_background",
          "id": "text_background_color",
          "label": "Text background",
          "default": "linear-gradient(180deg, rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.8) 100%)"
        },
        {
          "type": "header",
          "content": "Grid position"
        },
        {
          "type": "number",
          "id": "row_start",
          "label": "Row start",
          "default": 2
        },
        {
          "type": "range",
          "id": "row_height",
          "label": "Row height",
          "min": 1,
          "max": 3,
          "step": 1,
          "default": 1
        },
        {
          "type": "range",
          "id": "col_start",
          "label": "Column start",
          "min": 1,
          "max": 3,
          "step": 1,
          "default": 3
        },
        {
          "type": "range",
          "id": "col_width",
          "label": "Column width",
          "min": 1,
          "max": 5,
          "step": 1,
          "default": 1
        },
        {
          "type": "number",
          "id": "mobile_row_start",
          "label": "Mobile row start",
          "default": 1
        },
        {
          "type": "select",
          "id": "mobile_col_start",
          "label": "Mobile column start",
          "default": "2",
          "options": [
            {
              "value": "1",
              "label": "1"
            },
            {
              "value": "2",
              "label": "2"
            }
          ]
        },
        {
          "type": "select",
          "id": "mobile_col_width",
          "label": "Mobile column width",
          "default": "2",
          "options": [
            {
              "value": "1",
              "label": "1"
            },
            {
              "value": "2",
              "label": "2"
            }
          ]
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Product list - lifestyle ð",
      "blocks": [
        {
          "type": "image",
          "settings": {
            "row_start": 1,
            "row_height": 2,
            "col_start": 1,
            "col_width": 2,
            "mobile_row_start": 2,
            "mobile_col_start": "1",
            "mobile_col_width": "2"
          }
        }
      ]
    }
  ],
  "locales": {
    "en": {
      "sold_out": "Sold Out",
      "sale": "Sale",
      "from_price_html": "from {{ price }}"
    }
  }
}
{% endschema %}

{%- comment -%} JSON Settings {%- endcomment -%}
<script type="application/json" data-dsgn-pck="{{ section_id }}">
  {
    "id": {{ section_id | json }},
    "animation": {{ section.settings.animation | json }}
  }
</script>
{%- comment -%} JavaScript {%- endcomment -%}
<script data-dsgn-pck-js="{{ section_id }}" type="module" defer>
(function(){
  'use strict';

  const designPack = {
    settings: {
    },
    load: function (section) {

    },
    unload: function (section) {
      section.classList.remove('dsgn-pck__animation-applied')
    }
  }

  window.addEventListener('shopify:section:unload', function (e) {
    const settings = document.querySelector(`[data-dsgn-pck="${e.detail.sectionId}"]`);
    const sectionId = e.detail.sectionId;
    const section = document.querySelector(`#DP--${e.detail.sectionId}`);
    if (sectionId == designPack.settings.id){
      designPack.unload(section);
    }
  });

  designPack.settings = JSON.parse(document.querySelector('[data-dsgn-pck="{{ section_id }}"]').innerHTML);
  const sectionId = {{ section_id | json }};
  const section = document.querySelector(`#DP--${sectionId}`);
  if (sectionId == designPack.settings.id){
    designPack.load(section);
  }

})();
</script>
